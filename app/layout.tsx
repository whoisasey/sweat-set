// // import "./globals.css";
// import { useEffect, useMemo } from "react";

// import type { Metadata } from "next";
// import Nav from "@/app/components/Nav";
// import SessionProvider from "@/app/providers/SessionProvider";
// // import { UserProvider } from "@/app/providers/UserProvider";
// import { getServerSession } from "next-auth";
// import { getTheme } from "@/theme";
// import { useMediaQuery } from "@mui/material";

// export const metadata: Metadata = {
//   title: "Sweat Set App",
//   description: "Generated by create next app",
// };

// interface RootLayoutProps {
//   children: React.ReactNode;
// }

// const RootLayout: React.FC<RootLayoutProps> = async ({ children }) => {
//   const session = await getServerSession();
//   // ðŸ‘‡ This detects the system theme preference
//   const prefersDarkMode = useMediaQuery("(prefers-color-scheme: dark)");

//   // ðŸ‘‡ Memoize the theme to avoid unnecessary recalculations
//   const theme = useMemo(() => getTheme(prefersDarkMode ? "dark" : "light"), [prefersDarkMode]);
//   return (
//     <html lang="en">
//       <body>
//        <ThemeProvider theme={theme}>
//         <SessionProvider session={session}>
//           {/* <UserProvider> */}
//           <Nav />
//           {children}
//           {/* </UserProvider> */}1
//         <SessionProvider session={session}>
//           <Nav />
//           {children}
//         </ThemeProvider>
//             </SessionProvider>
//       </body>
//     </html>
//   );
// };

// export default RootLayout;
